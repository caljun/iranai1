<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iranai - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- å›ºå®šãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="fixed-header">
        <h1>iranai</h1>
    </header>

    <br>
    <br>

    <div class="container">
        <div class="profile-section">
            <!-- ğŸ“Œ imgã‚’labelã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã‚¹ãƒãƒ›å¯¾å¿œ -->
            <label for="profileImageUpload">
                <img id="profileIcon" src="" alt="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚¢ã‚¤ã‚³ãƒ³">
            </label>
            <input type="file" id="profileImageUpload" style="display: none;" accept="image/*">
            <p id="profileUrl">ã‚ãªãŸã®URL: <a id="userUrl" href="#" target="_blank"></a></p>
        </div>        

        <!-- æŠ•ç¨¿ä¸€è¦§ -->
        <div class="gallery">
            <!-- æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ãŒã“ã“ã«å…¥ã‚Šã¾ã™ -->
        </div>
    </div>

    <!-- ğŸ“Œ ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æŠ•ç¨¿ãƒœã‚¿ãƒ³ï¼ˆcontainerã®å¤–ï¼‰ -->
    <div class="fab-container">
        <button id="fabAddPost">ï¼‹</button>
    </div>

    <script src="./scripts/profile.js"></script>
    <script src="./scripts/modal.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const profileIcon = document.getElementById("profileIcon");
            const profileImageUpload = document.getElementById("profileImageUpload");

            // ä»¥å‰ã®ç”»åƒãŒã‚ã‚Œã°ãƒ­ãƒ¼ãƒ‰
            const savedImage = localStorage.getItem("profileImage");
            if (savedImage) {
                profileIcon.src = savedImage;
            }

            // ã‚¯ãƒªãƒƒã‚¯ã§ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
            profileIcon.addEventListener("click", function () {
                profileImageUpload.click();
            });

            // ç”»åƒã‚’é¸æŠã—ãŸã‚‰å¤‰æ›´
            profileImageUpload.addEventListener("change", function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        profileIcon.src = e.target.result;
                        localStorage.setItem("profileImage", e.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            });

            // ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒœã‚¿ãƒ³ã§ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
            const fabBtn = document.getElementById("fabAddPost");
            if (fabBtn) {
                fabBtn.addEventListener("click", function () {
                    if (window.openModal) {
                        window.openModal();
                    }
                });
            }
        });
    </script>
</body>
</html>
